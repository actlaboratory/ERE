# English Reading Enhancer Ver1.1.2 説明書

(更新:  2025-02-23)

[ソフトウェア詳細ページ](https://actlab.org/software/ERE)

## English Reading Enhancerの概要

English Reading Enhancerは、日本語音声合成エンジンの英語読み上げの性能を強化するNVDAアドオンです。

### 開発の経緯

NVDAは、非常に多くの音声エンジンに対応しています。
肉声に近い音質のもの、高速な読み上げが可能なもの、動作が軽快なものなど、それぞれに特徴があります。
利用者は、自分の好みに応じて好きな音声エンジンを選択できます。
また、読書用と文書の校正用など、利用するシーンによって音声エンジンを切り替えることもできます。

一方、複数の音声エンジンを使っていると、エンジンごとの読み方の違いに戸惑うことがあります。
特に、英単語など、アルファベット列の読み方は様々で、誤った発音をしたり、スペル読みしてしまったりといったことは少なくありません。

そこで、アルファベットの読み下しをNVDAの内部で行い、カタカナに変換したものを音声エンジンに渡せば、エンジンごとの読み方の差を吸収し、読み上げの性能を一定に保つことが可能になると考えました。
画面読み上げソフトJAWSの日本語版、視覚障害者向け統合フリーウェアのALTAIRなどにも類似の機能が装備されていますが、目的はほとんど同じです。

### 機能概要

本アドオンでは、概ね以下のような手順で英語の読み上げを行います。

1. 読み上げ文字列から、アルファベットが連続する部分を抽出します。また、この後の処理の都合上、全角アルファベットは半角に変換します。
1. アドオンが持っている英単語辞書を用いて、カナへの変換を試みます。複合語も判定しているため、例えば「timeline」という文字列は、「time」を「タイム」に、「line」を「ライン」にそれぞれ変換し、「タイムライン」となります。
1. 以上の手順で変換できなかったものは、ローマ字読みを試みます。
1. それでも変換できない場合は、1文字ずつスペルアウトします。

### 動作環境

NVDA 2019.3以降に対応しています。
本家版、日本語版両方のNVDAで使用できます。

本アドオンでは、英語音声で正しく英語を読み上げできなくなることを防ぐため、使用している音声の言語が日本語の場合にのみカナへの変換を行うようにしています。
しかし、一部の音声エンジンでは言語情報が正しく定義されておらず、期待通りに動作しないことがあります。
特に、以下のような場合は問題が起きる可能性があるため、必要に応じて設定をご確認ください。

* NVDAの言語が日本語以外に設定されている場合
* NVDAの音声設定で[サポートされている場合自動的に言語を切り替える]が有効になっており、日本語以外の言語で書かれたWebページやWord文書を読んでいる場合

## セットアップ方法

### インストール

ダウンロードしたファイルを展開すると、拡張子が「nvda-addon」のファイルがあります。
アドオンをインストールするには、NVDAが起動している状態でこのファイルを実行します。

また、NVDAメニューの[ツール]→[アドオン ストア]を使ってインストールすることもできます。
詳細については、NVDAのユーザーガイドを参照してください。

### アンインストール

本アドオンを削除する方法は、一般的なNVDAアドオンと同様です。
詳細については、NVDAのユーザーガイドを参照してください。

### アップデート

新機能の追加や不具合の修正、英語読み上げ辞書への単語の追加などの目的で、定期的にアップデートを行います。

初期状態では、NVDAの起動時にアップデートの確認が行われます。
新しいバージョンが利用可能な場合、更新するかどうかを確認するメッセージが表示されます。
画面の指示に従って操作してください。

また、アドオンの設定メニューから、起動時のアップデートチェックを無効化したり、手動でアップデートを確認したりといった操作が可能です。
メニューの利用方法など、詳細は次章の説明を参照してください。

## 利用方法

通常、本アドオンのインストール後、特別な操作を行う必要はありません。
アルファベットを含む文書を読み上げさせると、自動的にカナへの変換が行われます。

### 設定メニューの使用

本アドオンをインストールすると、NVDAメニューに[English Reading Enhancer]という項目が追加されます。
この項目を選択すると、アドオンの設定などを行うサブメニューが開きます。
各メニュー項目の概要は、下記の通りです。

* English Reading Enhancerを無効（有効）化: 本アドオンの英語読み下し機能を使用するかどうかを切り替えます。現在の状態に応じて、メニュー項目の表示が変化します。この項目を実行すると、切り替えた結果をダイアログボックスに表示します。この設定は即座に反映され、NVDAを再起動しても現在の状態を維持します。
* 起動時のアップデートチェックを無効（有効）化: NVDAを起動したときにアップデートチェックを行うかどうかを切り替えます。現在の状態に応じて、メニュー項目の表示が変化します。この項目を実行すると、切り替えた結果をダイアログボックスに表示します。
* アップデートを確認: 新しいバージョンが利用可能かどうかを手動で確認するときに使用します。NVDA起動時の自動チェックと異なり、既に最新版を使用しているときや、何らかのエラーが発生したときにも、その旨を通知するメッセージが表示されます。
* 読み間違いの報告: [読み間違いの報告機能](#読み間違いの報告機能)を呼び出します。

## 読み間違いの報告機能

English Reading Enhancerを使用して期待通りに読み上げられない単語を発見した際に、修正を提案できる機能です。
最終的な判断はアドオン開発者が行いますが、より読み上げ性能を高めるための仕組みとして装備しました。

### 事前の準備

この機能では、ソフトウェア開発のプラットフォームである[GitHub](https://github.com/)の「[Issue](https://docs.github.com/ja/issues/tracking-your-work-with-issues/about-issues)」という仕組みを使用します。
事前に、[GitHubアカウントの作成](https://docs.github.com/ja/get-started/quickstart/creating-an-account-on-github)と、[個人用アクセス トークンの取得](https://docs.github.com/ja/authentication/keeping-your-account-and-data-secure/managing-your-personal-access-tokens)を行う必要があります（無料）。

大まかな作業手順は、以下のようになります。

1. GitHubアカウントを作成します（すでにアカウントをお持ちの場合は省略可能です。）。
1. アカウントにログインし、個人用アクセス トークンを作成します。個人用アクセス トークンには「fine-grained personal access tokens」と「personal access tokens (classic)」の2種類がありますが、ここでは「personal access tokens (classic)」を作成します。なお、トークンの作成時には「Note」（メモ）、「Expiration」（期限）、「scopes」（何の操作を許可するか）を設定する必要があります。[scopes]では、必ず[public_repo]にチェックを入れるようにしてください。作成に成功すると、英数字列のアクセス トークンが表示されますので、[Copy token]ボタンを押してコピーしておきます。
1. NVDAメニューの[English Reading Enhancer]→[読み間違いの報告]→[GitHub アクセス トークンの設定]を実行し、上記でコピーしたアクセス トークンを貼り付けます。

### 読み間違いの報告手順

NVDAメニューの[English Reading Enhancer]→[読み間違いの報告]→[読み間違いの報告]を実行するか、`Shift+Ctrl+NVDA+E`を押すと、報告内容を入力するダイアログが表示されます。

[単語]に正しく読めなかった単語を、[読み方]に正しいと思われる読み方を入力します。
[単語]の内容は、大文字・小文字を正確に入力してください。

入力した内容について補足説明がある場合には、[コメント]に入力してください。
この欄は複数行の入力をサポートしていないため、一言メモを添えるようなイメージでお考えください。
必要がなければ入力しなくてもかまいません。
以下が、この欄に入力する内容の例です。

* 「○○という意味です。」（略称、固有名詞などの場合には、このような説明があると助かります。）
* 「○○という読み方は日本語として聞いたときに違和感があります。」、「カタカナ表記だと○○と書くので、○○と読むのは適切でないと思います。」

入力が終わったら[OK]ボタンを押してください。
入力内容を元にIssueが作成されます。

### 報告された内容の取り扱い

報告された内容は、GitHubのサイトを通してすべて公開されます。
NVDAメニューの[English Reading Enhancer]→[読み間違いの報告]→[報告一覧を開く]を実行すると、ブラウザが起動し、これまでに報告された内容の一覧を確認できます。

いただいた内容をそのまま辞書に登録するのか、一部修正して登録するのか、登録しないのか、といった内容は、公開の場であるGitHubでお知らせ・議論を行います。
ご自身で報告した内容について何らかの動きがあった場合、GitHubに登録したメールアドレス宛にメールが送信されます。
そのメールに返信すると、追加でコメントを送信することもできます。
必要に応じてご利用ください。

なお、「Close」というのは、その案件についての対応が終了したことを意味します。
「Close」にもいくつか種類があり、「Completed」は提案された内容を取り込んだことを、「Not Planned」は取り込まなかったことを表します。

## ライセンスと著作権

本アドオンは、GPL(GNU GENERAL PUBLIC LICENSE) Version 2の条件に従い、自由にご利用いただけます。

Copyright (C) 2022 Kazto Kitabatake, ACT Laboratory All rights reserved.

本アドオンで使用している英語カタカナ変換辞書は、以下のデータを元にしています。

* [Bilingual Emacspeak Project](http://www.argv.org/bep/)が提供している`bep-eng.dic`  
  Copyright 1999-2002 Bilingual Emacspeak Project.　All rights reserved.
* [High-speed Synthesizer For NVDA(HISS)](https://actlab.org/software/hiss)の[読み辞書](https://github.com/actlaboratory/HISS-dictionary)  
  Copyright (c) 2022 AccessibleToolsLaboratory

## 更新履歴
### 2025/02/23 Version 1.1.3

1. NVDA 2025.1のアップデートに対応しました。
1. 読み上げ辞書を更新しました。

### 2024/08/21 Version 1.1.1

1. NVDA 2024.3のアップデートに対応しました。
1. 読み上げ辞書を更新しました。

### 2023/12/31 Version 1.1.0

1. 読み間違いの報告機能を追加しました。
1. NVDA 2024.1のアップデートに対応しました。
1. カナ訳エンジンを更新しました。これにより、ローマ字の途中の「`no`」が「ノー」と読み上げられる場合があった問題などが改善します。
1. 読み上げ辞書を更新しました。

### 2023/05/03 Version 1.0.3

1. カナ訳エンジンを更新しました。これにより、すべて小文字で書かれた「chatgpt」などが正しく読み上げられるようになります。
1. 読み上げ辞書を更新しました。

### 2023/02/17 Version 1.0.2

1. 大文字を含む文字列を読み上げる際、特定の場合に不要な空白が空いてしまう問題を、更に修正しました。
1. NVDA 2023.1のアップデートに対応しました。
1. 読み上げ辞書を更新しました。

### 2022/09/23 Version 1.0.1

1. NVDAの設定で[サポートされている場合自動的に言語を切り替える]が有効な場合に、アドオンの組み込み時に警告メッセージを表示するようにしました。
1. 大文字を含む文字列を読み上げる際、特定の場合に不要な空白が空いてしまう問題を修正しました。
1. 「A」など、一部のアルファベットの発音を修正しました。
1. 読み上げ辞書を更新しました。

## 問い合わせ先

本アドオンを利用しての感想やご要望、不具合のご報告などは、以下のメールアドレスまたは掲示板へご連絡ください。

* ACT Laboratory サポート: <support@actlab.org>
* ACT Laboratory 掲示板: <https://actlab.org/bbs/>
